{"ast":null,"code":"import React from'react';import{Navigate}from'react-router-dom';import{getToken,getRole}from'../services/authService';import{jsx as _jsx}from\"react/jsx-runtime\";const ProtectedRoute=_ref=>{let{children,userRole,allowedRoles}=_ref;const token=getToken();const role=userRole||getRole();// If token is missing, redirect to login page\nif(!token){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}// If role restriction is provided, enforce it\nif(allowedRoles&&allowedRoles.length>0){if(!role||!allowedRoles.includes(role)){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}}// Otherwise, render children\nreturn children;};export default ProtectedRoute;","map":{"version":3,"names":["React","Navigate","getToken","getRole","jsx","_jsx","ProtectedRoute","_ref","children","userRole","allowedRoles","token","role","to","replace","length","includes"],"sources":["C:/Users/SAMEER_KUMAR_PANDA/SchEdu/frontend/src/components/ProtectedRoute.js"],"sourcesContent":["import React from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\nimport { getToken, getRole } from '../services/authService';\r\n\r\nconst ProtectedRoute = ({ children, userRole, allowedRoles }) => {\r\n  const token = getToken();\r\n  const role = userRole || getRole();\r\n\r\n  // If token is missing, redirect to login page\r\n  if (!token) {\r\n    return <Navigate to=\"/login\" replace />;\r\n  }\r\n\r\n  // If role restriction is provided, enforce it\r\n  if (allowedRoles && allowedRoles.length > 0) {\r\n    if (!role || !allowedRoles.includes(role)) {\r\n      return <Navigate to=\"/login\" replace />;\r\n    }\r\n  }\r\n\r\n  // Otherwise, render children\r\n  return children;\r\n};\r\n\r\nexport default ProtectedRoute;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,KAAQ,kBAAkB,CAC3C,OAASC,QAAQ,CAAEC,OAAO,KAAQ,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE5D,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAA0C,IAAzC,CAAEC,QAAQ,CAAEC,QAAQ,CAAEC,YAAa,CAAC,CAAAH,IAAA,CAC1D,KAAM,CAAAI,KAAK,CAAGT,QAAQ,CAAC,CAAC,CACxB,KAAM,CAAAU,IAAI,CAAGH,QAAQ,EAAIN,OAAO,CAAC,CAAC,CAElC;AACA,GAAI,CAACQ,KAAK,CAAE,CACV,mBAAON,IAAA,CAACJ,QAAQ,EAACY,EAAE,CAAC,QAAQ,CAACC,OAAO,MAAE,CAAC,CACzC,CAEA;AACA,GAAIJ,YAAY,EAAIA,YAAY,CAACK,MAAM,CAAG,CAAC,CAAE,CAC3C,GAAI,CAACH,IAAI,EAAI,CAACF,YAAY,CAACM,QAAQ,CAACJ,IAAI,CAAC,CAAE,CACzC,mBAAOP,IAAA,CAACJ,QAAQ,EAACY,EAAE,CAAC,QAAQ,CAACC,OAAO,MAAE,CAAC,CACzC,CACF,CAEA;AACA,MAAO,CAAAN,QAAQ,CACjB,CAAC,CAED,cAAe,CAAAF,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}