{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Container,Typography,Table,TableHead,TableBody,TableRow,TableCell,Paper,CircularProgress,Alert}from'@mui/material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TeacherLeaveHistory=()=>{const[leaves,setLeaves]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const fetchLeaves=async()=>{setLoading(true);setError('');try{const response=await fetch('/api/leave',{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))// Use your auth token source\n}});const data=await response.json();if(!response.ok){setError(data.message||'Failed to fetch leave history.');}else{setLeaves(data);}}catch(err){setError('Network error. Please try again later.');}finally{setLoading(false);}};useEffect(()=>{fetchLeaves();},[]);return/*#__PURE__*/_jsxs(Container,{maxWidth:\"md\",sx:{mt:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",gutterBottom:true,children:\"Leave History\"}),loading&&/*#__PURE__*/_jsx(CircularProgress,{}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:error}),!loading&&!error&&leaves.length===0&&/*#__PURE__*/_jsx(Typography,{children:\"No leave records found.\"}),!loading&&!error&&leaves.length>0&&/*#__PURE__*/_jsx(Paper,{sx:{overflowX:'auto'},children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Week Start Date\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Days Applied\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Status\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:leaves.map(leave=>/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:leave.weekStartDate}),/*#__PURE__*/_jsx(TableCell,{children:leave.daysApplied}),/*#__PURE__*/_jsx(TableCell,{children:leave.status})]},leave.id))})]})})]});};export default TeacherLeaveHistory;","map":{"version":3,"names":["React","useEffect","useState","Container","Typography","Table","TableHead","TableBody","TableRow","TableCell","Paper","CircularProgress","Alert","jsx","_jsx","jsxs","_jsxs","TeacherLeaveHistory","leaves","setLeaves","loading","setLoading","error","setError","fetchLeaves","response","fetch","headers","Authorization","concat","localStorage","getItem","data","json","ok","message","err","maxWidth","sx","mt","children","variant","gutterBottom","severity","length","overflowX","map","leave","weekStartDate","daysApplied","status","id"],"sources":["C:/Users/SAMEER_KUMAR_PANDA/SchEdu/frontend/src/pages/TeacherLeaveHistory.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport {\r\n  Container,\r\n  Typography,\r\n  Table,\r\n  TableHead,\r\n  TableBody,\r\n  TableRow,\r\n  TableCell,\r\n  Paper,\r\n  CircularProgress,\r\n  Alert,\r\n} from '@mui/material';\r\n\r\nconst TeacherLeaveHistory = () => {\r\n  const [leaves, setLeaves] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n\r\n  const fetchLeaves = async () => {\r\n    setLoading(true);\r\n    setError('');\r\n    try {\r\n      const response = await fetch('/api/leave', {\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem('token')}`, // Use your auth token source\r\n        },\r\n      });\r\n      const data = await response.json();\r\n      if (!response.ok) {\r\n        setError(data.message || 'Failed to fetch leave history.');\r\n      } else {\r\n        setLeaves(data);\r\n      }\r\n    } catch (err) {\r\n      setError('Network error. Please try again later.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchLeaves();\r\n  }, []);\r\n\r\n  return (\r\n    <Container maxWidth=\"md\" sx={{ mt: 4 }}>\r\n      <Typography variant=\"h5\" gutterBottom>\r\n        Leave History\r\n      </Typography>\r\n\r\n      {loading && <CircularProgress />}\r\n      {error && <Alert severity=\"error\">{error}</Alert>}\r\n\r\n      {!loading && !error && leaves.length === 0 && (\r\n        <Typography>No leave records found.</Typography>\r\n      )}\r\n\r\n      {!loading && !error && leaves.length > 0 && (\r\n        <Paper sx={{ overflowX: 'auto' }}>\r\n          <Table>\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell>Week Start Date</TableCell>\r\n                <TableCell>Days Applied</TableCell>\r\n                <TableCell>Status</TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {leaves.map((leave) => (\r\n                <TableRow key={leave.id}>\r\n                  <TableCell>{leave.weekStartDate}</TableCell>\r\n                  <TableCell>{leave.daysApplied}</TableCell>\r\n                  <TableCell>{leave.status}</TableCell>\r\n                </TableRow>\r\n              ))}\r\n            </TableBody>\r\n          </Table>\r\n        </Paper>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default TeacherLeaveHistory;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}