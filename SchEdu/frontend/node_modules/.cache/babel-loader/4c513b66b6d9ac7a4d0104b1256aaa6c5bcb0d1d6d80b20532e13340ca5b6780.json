{"ast":null,"code":"import _objectSpread from\"C:/Users/SAMEER_KUMAR_PANDA/SchEdu/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{Container,Typography,TextField,Button,Alert,Box}from'@mui/material';import{DatePicker}from'@mui/lab';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TeacherLeave=()=>{const[weekStartDate,setWeekStartDate]=useState(null);const[daysApplied,setDaysApplied]=useState('');const[error,setError]=useState('');const[success,setSuccess]=useState('');const validateForm=()=>{if(!weekStartDate){setError('Please select the start date of the week.');return false;}if(!daysApplied){setError('Please enter number of leave days.');return false;}if(daysApplied<1||daysApplied>2){setError('You can apply for 1 or 2 leave days only.');return false;}return true;};const handleSubmit=async e=>{e.preventDefault();setError('');setSuccess('');if(!validateForm())return;try{const response=await fetch('/api/leave',{method:'POST',headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(localStorage.getItem('token'))// adjust as needed\n},body:JSON.stringify({weekStartDate:weekStartDate.toISOString().split('T')[0],daysApplied:Number(daysApplied)})});const data=await response.json();if(!response.ok){setError(data.message||'Failed to apply for leave.');}else{setSuccess('Leave applied successfully and automatically approved.');setWeekStartDate(null);setDaysApplied('');}}catch(_unused){setError('Network error. Please try again later.');}};return/*#__PURE__*/_jsxs(Container,{maxWidth:\"sm\",sx:{mt:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",gutterBottom:true,children:\"Apply for Leave\"}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:2},children:error}),success&&/*#__PURE__*/_jsx(Alert,{severity:\"success\",sx:{mb:2},children:success}),/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:handleSubmit,noValidate:true,children:[/*#__PURE__*/_jsx(DatePicker,{label:\"Week Start Date\",value:weekStartDate,onChange:newValue=>setWeekStartDate(newValue),renderInput:params=>/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({fullWidth:true},params),{},{margin:\"normal\"}))}),/*#__PURE__*/_jsx(TextField,{label:\"Days Applied\",type:\"number\",inputProps:{min:1,max:2},value:daysApplied,onChange:e=>setDaysApplied(e.target.value),fullWidth:true,margin:\"normal\",required:true}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"textSecondary\",sx:{mb:1},children:\"You can apply for up to 2 leave days per week. Leave requests within limits are automatically approved.\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",fullWidth:true,sx:{mt:2},children:\"Submit Leave Application\"})]})]});};export default TeacherLeave;","map":{"version":3,"names":["React","useState","Container","Typography","TextField","Button","Alert","Box","DatePicker","jsx","_jsx","jsxs","_jsxs","TeacherLeave","weekStartDate","setWeekStartDate","daysApplied","setDaysApplied","error","setError","success","setSuccess","validateForm","handleSubmit","e","preventDefault","response","fetch","method","headers","Authorization","concat","localStorage","getItem","body","JSON","stringify","toISOString","split","Number","data","json","ok","message","_unused","maxWidth","sx","mt","children","variant","gutterBottom","severity","mb","component","onSubmit","noValidate","label","value","onChange","newValue","renderInput","params","_objectSpread","fullWidth","margin","type","inputProps","min","max","target","required","color"],"sources":["C:/Users/SAMEER_KUMAR_PANDA/SchEdu/frontend/src/pages/TeacherLeave.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport {\r\n  Container,\r\n  Typography,\r\n  TextField,\r\n  Button,\r\n  Alert,\r\n  Box\r\n} from '@mui/material';\r\nimport { DatePicker } from '@mui/lab';\r\n\r\nconst TeacherLeave = () => {\r\n  const [weekStartDate, setWeekStartDate] = useState(null);\r\n  const [daysApplied, setDaysApplied] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n\r\n  const validateForm = () => {\r\n    if (!weekStartDate) {\r\n      setError('Please select the start date of the week.');\r\n      return false;\r\n    }\r\n    if (!daysApplied) {\r\n      setError('Please enter number of leave days.');\r\n      return false;\r\n    }\r\n    if (daysApplied < 1 || daysApplied > 2) {\r\n      setError('You can apply for 1 or 2 leave days only.');\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setSuccess('');\r\n\r\n    if (!validateForm()) return;\r\n\r\n    try {\r\n      const response = await fetch('/api/leave', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${localStorage.getItem('token')}`, // adjust as needed\r\n        },\r\n        body: JSON.stringify({\r\n          weekStartDate: weekStartDate.toISOString().split('T')[0],\r\n          daysApplied: Number(daysApplied),\r\n        }),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (!response.ok) {\r\n        setError(data.message || 'Failed to apply for leave.');\r\n      } else {\r\n        setSuccess('Leave applied successfully and automatically approved.');\r\n        setWeekStartDate(null);\r\n        setDaysApplied('');\r\n      }\r\n    } catch {\r\n      setError('Network error. Please try again later.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\" sx={{ mt: 4 }}>\r\n      <Typography variant=\"h5\" gutterBottom>\r\n        Apply for Leave\r\n      </Typography>\r\n\r\n      {error && <Alert severity=\"error\" sx={{ mb: 2 }}>{error}</Alert>}\r\n      {success && <Alert severity=\"success\" sx={{ mb: 2 }}>{success}</Alert>}\r\n\r\n      <Box component=\"form\" onSubmit={handleSubmit} noValidate>\r\n        <DatePicker\r\n          label=\"Week Start Date\"\r\n          value={weekStartDate}\r\n          onChange={(newValue) => setWeekStartDate(newValue)}\r\n          renderInput={(params) => <TextField fullWidth {...params} margin=\"normal\" />}\r\n        />\r\n\r\n        <TextField\r\n          label=\"Days Applied\"\r\n          type=\"number\"\r\n          inputProps={{ min: 1, max: 2 }}\r\n          value={daysApplied}\r\n          onChange={(e) => setDaysApplied(e.target.value)}\r\n          fullWidth\r\n          margin=\"normal\"\r\n          required\r\n        />\r\n\r\n        <Typography variant=\"caption\" color=\"textSecondary\" sx={{ mb: 1 }}>\r\n          You can apply for up to 2 leave days per week. Leave requests within limits are automatically approved.\r\n        </Typography>\r\n\r\n        <Button type=\"submit\" variant=\"contained\" color=\"primary\" fullWidth sx={{ mt: 2 }}>\r\n          Submit Leave Application\r\n        </Button>\r\n      </Box>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default TeacherLeave;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}